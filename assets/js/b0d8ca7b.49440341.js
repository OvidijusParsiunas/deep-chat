"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4982],{15817:(e,o,n)=>{n.r(o),n.d(o,{default:()=>a});var t=n(96540),d=n(74848);function a(e){let{chatComponents:o,setIsModalDisplayed:n,playgroundConfig:a}=e;const[l,r]=t.useState(!1),[c,s]=t.useState(!1),[i,u]=t.useState(!1);t.useEffect((()=>(y(),r(!0),window.addEventListener("keydown",p),()=>{window.removeEventListener("keydown",p)})),[]);const p=e=>{"Escape"===e.key?k():"Enter"===e.key&&m()},y=()=>{const e=o.find((e=>{const{connect:o}=e.ref.current.config;return o[Object.keys(o)[0]].key}));s(!!e)},m=()=>{const e=g();i&&h();const o=JSON.stringify(e,null,2),n=new Blob([o],{type:"application/json"}),t=URL.createObjectURL(n),d=document.createElement("a");d.href=t,d.download="deep-chat-playground.json",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(t)},g=()=>{const e={...a,components:o.map((e=>e.ref.current.config))};return JSON.parse(JSON.stringify(e))},h=()=>{a.components.forEach((e=>{const{connect:o}=e,n=Object.keys(o)[0];o[n].key&&(o[n].key=b(o[n].key.length))}))},b=e=>{let o="";for(let n=0;n<e;n++)o+="-";return o},k=()=>{r(!1),setTimeout((()=>{n(!1)}),200)};return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"playground-service-modal-background "+(l?"playground-modal-fade-in-background":"playground-modal-fade-out-background"),onClick:k}),(0,d.jsxs)("div",{className:"playground-modal "+(l?"playground-modal-fade-in":"playground-modal-fade-out"),children:[(0,d.jsx)("b",{className:"playground-modal-title playground-header-modal-title",children:"Export Config"}),(0,d.jsx)("div",{className:"playground-header-modal-description",children:"Export your playground configuration to continue where you left of next time."}),c&&(0,d.jsxs)("div",{id:"playground-export-modal-checkbox-description",className:"playground-header-modal-description",children:[(0,d.jsx)("input",{type:"checkbox",id:"playground-export-modal-checkbox",checked:i,onChange:()=>{u(!i)}}),(0,d.jsx)("div",{children:"Redact API Keys"})]}),(0,d.jsxs)("div",{className:"playground-header-modal-buttons",children:[(0,d.jsx)("button",{className:"playground-modal-button playground-modal-close-button",onClick:k,children:"Close"}),(0,d.jsx)("button",{className:"playground-modal-button playground-modal-submit-button",onClick:m,children:"Export"})]})]})]})}}}]);